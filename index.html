<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Peixinho que Queria Brincar</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bubblegum+Sans&display=swap');

        :root {
            --p-width: 450px;
            --p-height: 580px;
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle, #90e0ef 0%, #0077b6 100%);
            font-family: 'Bubblegum Sans', cursive;
            overflow: hidden;
        }

        .book {
            width: calc(var(--p-width) * 2);
            height: var(--p-height);
            position: relative;
            perspective: 2000px;
        }

        /* Base que fica por baixo de tudo (Última Página) */
        .book-base {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('cenario.png');
            background-size: cover;
            border-radius: 10px;
            z-index: 0;
        }

        .page {
            width: var(--p-width);
            height: var(--p-height);
            position: absolute;
            top: 0;
            right: 0;
            transform-origin: left;
            transition: transform 1.3s cubic-bezier(0.645, 0.045, 0.355, 1);
            transform-style: preserve-3d;
            z-index: 1;
            cursor: pointer;
        }

        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            box-sizing: border-box;
            background-image: url('cenario.png');
            background-size: cover;
            border: 1px solid rgba(0,0,0,0.1);
        }

        .front { background-position: right; border-radius: 0 10px 10px 0; }
        .back { transform: rotateY(180deg); background-position: left; border-radius: 10px 0 0 10px; box-shadow: inset -20px 0 50px rgba(0,0,0,0.2); }

        /* Estilos de Personagens */
        .lilo { width: 100px; animation: float 3s infinite ease-in-out; z-index: 10; }
        .pais { width: 140px; filter: hue-rotate(180deg); opacity: 0.9; }
        .alga { position: absolute; bottom: 0; width: 60px; transform-origin: bottom; animation: wave 4s infinite alternate; }
        
        .texto {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 15px;
            font-size: 1.3rem;
            color: #333;
            text-align: center;
            margin-top: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 90%;
        }

        .page.flipped { transform: rotateY(-180deg); }

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        @keyframes wave { from { transform: rotate(-5deg); } to { transform: rotate(5deg); } }

        /* Capa */
        .capa { background: #5d2e0a !important; color: white; background-image: none !important; }
    </style>
</head>
<body>

    <div class="book">
        <div class="book-base"></div>

        <div class="page" id="folha4" style="z-index: 1;" onclick="flip(this, 0)">
            <div class="front">
                <img src="peixinho.png" class="lilo">
                <div class="texto">"Mamãe! Papai!" Eles se abraçaram felizes. "Da próxima vez... vamos brincar juntos?"</div>
            </div>
            <div class="back">
                <div style="display:flex; gap: 10px;">
                    <img src="peixinho.png" class="pais">
                    <img src="peixinho.png" class="lilo">
                </div>
                <div class="texto">Perto de uma pedra iluminada, eles viram uma nadadeira pequena tremendo. "Lilo!"</div>
            </div>
        </div>

        <div class="page" id="folha3" style="z-index: 2;" onclick="flip(this, 1)">
            <div class="front">
                <img src="peixinho.png" class="pais">
                <div class="texto">Preocupados, os dois saíram pelo oceano perguntando aos amigos: "Você viu o Lilo?"</div>
            </div>
            <div class="back">
                <img src="peixinho.png" class="lilo" style="filter: grayscale(1); opacity: 0.7;">
                <div class="texto">"Mamãe? Papai? Onde eu estou?" O mar parecia enorme e silencioso. Lilo ficou assustado.</div>
            </div>
        </div>

        <div class="page" id="folha2" style="z-index: 3;" onclick="flip(this, 2)">
            <div class="front">
                <img src="peixinho.png" class="lilo" style="transform: scaleX(-1);">
                <div class="texto">Lilo decidiu explorar sozinho. "Vou só dar uma voltinha... rapidinho!"</div>
            </div>
            <div class="back">
                <div class="texto">Lilo fez um biquinho… ele queria muito brincar.</div>
                <img src="alga.png" class="alga" style="right: 20px;">
            </div>
        </div>

        <div class="page" id="folha1" style="z-index: 4;" onclick="flip(this, 3)">
            <div class="front">
                <div style="display:flex; gap: 10px; align-items: center;">
                    <img src="peixinho.png" class="pais">
                    <img src="peixinho.png" class="lilo">
                </div>
                <div class="texto">"Mamãe! Papai! Vamos brincar de corrida?" <br> "Agora não, querido… estamos trabalhando."</div>
            </div>
            <div class="back">
                <div class="texto">No fundo de um mar azul e brilhante vivia Lilo, um pequeno peixinho muito curioso.</div>
            </div>
        </div>

        <div class="page" id="folha0" style="z-index: 5;" onclick="flip(this, 4)">
            <div class="front capa">
                <h1 style="font-size: 3rem; text-align: center;">O Peixinho que Queria Brincar</h1>
                <img src="peixinho.png" class="lilo" style="width: 150px;">
                <p>Clique para abrir o livro</p>
            </div>
            <div class="back">
                <div class="texto">Prepare-se para uma aventura submarina!</div>
            </div>
        </div>

    </div>

    <script>
        function flip(el, index) {
            el.classList.toggle('flipped');
            
            // Gerenciamento de Z-Index para as páginas não sumirem ao virar
            if (el.classList.contains('flipped')) {
                setTimeout(() => { el.style.zIndex = 10 + (5 - index); }, 600);
            } else {
                setTimeout(() => { el.style.zIndex = 5 - index; }, 600);
            }
        }
    </script>
</body>
</html>
