<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Peixinho que Queria Brincar</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bubblegum+Sans&display=swap');

        :root {
            --water-bg: #a2d2ff;
            --coral-btn: #ffafbd;
            --text-color: #444;
            --paper-color: #fdfaf0;
        }

        /* --- ESTILO DAS BOLHAS (Seu Código Adaptado) --- */
        body {
            margin: 0;
            background-color: var(--water-bg);
            font-family: 'Bubblegum Sans', cursive;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .wrapper {
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0; /* Fica atrás do livro */
        }

        .wrapper div {
            height: 60px;
            width: 60px;
            border: 2px solid rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            position: absolute;
            top: 10%;
            left: 10%;
            animation: 4s linear infinite;
        }

        /* Animação das bolhas do seu efeito */
        @keyframes animate {
            0% { transform: scale(0) translateY(0) rotate(0); opacity: 1; }
            100% { transform: scale(1.3) translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        .wrapper div:nth-child(1) { top: 20%; left: 20%; animation: animate 8s linear infinite; }
        .wrapper div:nth-child(2) { top: 60%; left: 80%; animation: animate 10s linear infinite; }
        .wrapper div:nth-child(3) { top: 40%; left: 40%; animation: animate 3s linear infinite; }
        .wrapper div:nth-child(4) { top: 66%; left: 30%; animation: animate 7s linear infinite; }
        .wrapper div:nth-child(5) { top: 90%; left: 10%; animation: animate 9s linear infinite; }
        .wrapper div:nth-child(6) { top: 30%; left: 60%; animation: animate 5s linear infinite; }
        .wrapper div:nth-child(7) { top: 70%; left: 20%; animation: animate 8s linear infinite; }
        .wrapper div:nth-child(8) { top: 75%; left: 60%; animation: animate 10s linear infinite; }
        .wrapper div:nth-child(9) { top: 50%; left: 50%; animation: animate 6s linear infinite; }
        .wrapper div:nth-child(10) { top: 45%; left: 20%; animation: animate 10s linear infinite; }
        .wrapper div:nth-child(11) { top: 10%; left: 90%; animation: animate 9s linear infinite; }
        .wrapper div:nth-child(12) { top: 20%; left: 70%; animation: animate 7s linear infinite; }
        .wrapper div:nth-child(13) { top: 20%; left: 20%; animation: animate 8s linear infinite; }
        .wrapper div:nth-child(14) { top: 60%; left: 5%; animation: animate 6s linear infinite; }
        .wrapper div:nth-child(15) { top: 90%; left: 80%; animation: animate 9s linear infinite; }

        .dot { height: 10px; width: 10px; background-color: rgba(255, 255, 255, 0.5); border-radius: 50%; position: absolute; top: 20%; right: 20%; }

        /* --- ESTRUTURA DO LIVRO --- */
        .book-container {
            position: relative;
            width: 95vw;
            max-width: 900px;
            height: 65vh;
            background-color: #8b4513;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10; /* Fica na frente das bolhas */
        }

        .book-pages {
            width: 100%; height: 100%;
            background-color: var(--paper-color);
            display: flex; position: relative;
            border-radius: 5px; overflow: hidden;
            box-shadow: inset 0 0 100px rgba(0,0,0,0.2);
        }

        #ocean-stage {
            width: 100%; height: 100%;
            background-image: url('cenario.png'); 
            background-size: cover; background-position: center;
            position: relative; overflow: hidden;
        }

        #peixinho { width: 80px; position: absolute; top: 50%; left: 20%; transition: all 2s ease-in-out; z-index: 10; }
        .pais-container { position: absolute; top: 45%; left: -300px; transition: all 2s ease-in-out; display: flex; gap: 15px; z-index: 9; }
        .pai-img { width: 110px; filter: hue-rotate(40deg); } 
        .mae-img { width: 100px; filter: hue-rotate(-40deg); }

        #narration-box {
            width: 85%; max-width: 750px;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px; border-radius: 20px; margin-top: 20px;
            text-align: center; font-size: 1.2rem; color: var(--text-color);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); z-index: 30;
        }

        #next-btn {
            margin-top: 15px; padding: 12px 35px; font-size: 1.2rem;
            background-color: var(--coral-btn); border: none; border-radius: 50px;
            color: white; cursor: pointer; box-shadow: 0 5px 0px #e08e9b; z-index: 30;
        }
    </style>
</head>
<body>

    <div class="wrapper">
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
        <div><span class="dot"></span></div>
    </div>

    <div class="book-container">
        <div class="book-pages">
            <div id="ocean-stage">
                <div id="pais" class="pais-container">
                    <img src="peixinho.png" class="pai-img">
                    <img src="peixinho.png" class="mae-img">
                </div>
                <img id="peixinho" src="peixinho.png">
            </div>
        </div>
    </div>

    <div id="narration-box">
        No fundo de um mar azul e brilhante vivia Lilo, um pequeno peixinho muito curioso.
    </div>

    <button id="next-btn" onclick="nextStep()">Avançar ➔</button>

    <script>
        let step = 0;
        const peixinho = document.getElementById('peixinho');
        const pais = document.getElementById('pais');
        const text = document.getElementById('narration-box');
        const stage = document.getElementById('ocean-stage');

        const storySteps = [
            {
                text: "Lilo: Mamãe! Papai! Vamos brincar de corrida?<br>Mamãe: Agora não, querido... Papai: Depois a gente brinca!",
                action: () => { pais.style.left = '40px'; peixinho.style.left = '280px'; stage.style.filter = "none"; }
            },
            {
                text: "Lilo decidiu explorar sozinho. 'Vou só dar uma voltinha... rapidinho!', pensou ele enquanto nadava entre corais.",
                action: () => { peixinho.style.left = '80%'; pais.style.left = '-350px'; stage.style.filter = "none"; }
            },
            {
                text: "Lilo: Mamãe? Papai? Onde eu estou?<br>O mar parecia enorme e silencioso. Lilo ficou assustado.",
                action: () => { stage.style.filter = "brightness(0.6) saturate(1.2)"; peixinho.style.left = '50%'; peixinho.style.transform = 'scaleX(-1)'; }
            },
            {
                text: "Mamãe: Você viu o Lilo? Papai: Achei que ele estava com você!<br>Preocupados, os dois saíram pelo oceano buscando ajuda.",
                action: () => { stage.style.filter = "brightness(0.8)"; pais.style.left = '10%'; peixinho.style.left = '120%'; }
            },
            {
                text: "Perto de uma pedra iluminada, eles viram uma nadadeira pequena tremendo.<br>Mamãe: Lilo! Lilo: Mamãe! Papai!",
                action: () => { stage.style.filter = "none"; peixinho.style.left = '60%'; peixinho.style.transform = 'scaleX(1)'; pais.style.left = '20%'; }
            },
            {
                text: "Papai: Sempre avise antes. Mamãe: Você é o mais importante!<br>E ali mesmo começou a melhor brincadeira do dia!",
                action: () => { peixinho.style.left = '45%'; pais.style.left = '25%'; peixinho.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(-30px)' }], { duration: 500, iterations: 6 }); }
            }
        ];

        function nextStep() {
            if(step < storySteps.length) {
                const s = storySteps[step];
                text.innerHTML = s.text;
                s.action();
                step++;
                if(step === storySteps.length) document.getElementById('next-btn').innerText = "Recomeçar ↺";
            } else { location.reload(); }
        }
    </script>
</body>
</html>
